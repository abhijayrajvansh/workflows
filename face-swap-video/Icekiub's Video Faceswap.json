{"last_node_id":14,"last_link_id":17,"nodes":[{"id":8,"type":"RopeWrapper_DetectNode","pos":[-5135.62158203125,1192.5892333984375],"size":[315,122],"flags":{},"order":10,"mode":0,"inputs":[{"name":"models","type":"ROPE_MODEL","link":9},{"name":"input_image","type":"IMAGE","link":10}],"outputs":[{"name":"humanCount","type":"INT","links":null},{"name":"DETECTRESULT","type":"DETECTRESULT","links":[8]},{"name":"foundFaces","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"RopeWrapper_DetectNode"},"widgets_values":[70,0.5]},{"id":9,"type":"RopeWrapper_OptionNode","pos":[-5130.462890625,1361.4080810546875],"size":[315,826],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"ROPE_OPTION","type":"ROPE_OPTION","links":[11]}],"properties":{"Node name for S&R":"RopeWrapper_OptionNode"},"widgets_values":[false,"CF","Blend",100,false,180,false,200,10,10,10,10,false,4,false,0,false,0,0,false," ",50,5,false,0,0,0,0,false,0,0,0,"128"]},{"id":7,"type":"RopeWrapper_LoadModels","pos":[-5154.83349609375,1036.4560546875],"size":[315,78],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"ROPE_MODEL","type":"ROPE_MODEL","links":[5,9],"slot_index":0},{"name":"ROPE_VM","type":"ROPE_VM","links":[6],"slot_index":1}],"properties":{"Node name for S&R":"RopeWrapper_LoadModels"},"widgets_values":["Original"]},{"id":6,"type":"RopeWrapper_SwapNode","pos":[-4776.126953125,1033.0072021484375],"size":[400,316],"flags":{},"order":11,"mode":0,"inputs":[{"name":"models","type":"ROPE_MODEL","link":5},{"name":"vm","type":"ROPE_VM","link":6},{"name":"input_image","type":"IMAGE","link":4},{"name":"source_face","type":"IMAGE","link":7},{"name":"detectResult","type":"DETECTRESULT","link":8},{"name":"audio","type":"AUDIO","shape":7,"link":null},{"name":"ROPE_Options","type":"ROPE_OPTION","shape":7,"link":11}],"outputs":[{"name":"SwappedImage","type":"IMAGE","links":[12],"slot_index":0},{"name":"fileName","type":"STRING","links":null},{"name":"fileNameAndPath","type":"STRING","links":null}],"properties":{"Node name for S&R":"RopeWrapper_SwapNode"},"widgets_values":[false,30,"Rope_",false,0," "]},{"id":1,"type":"VHS_LoadVideo","pos":[-7175.4453125,1026.8477783203125],"size":[440.630615234375,1071.7877197265625],"flags":{},"order":2,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","shape":7,"link":null},{"name":"vae","type":"VAE","shape":7,"link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2],"slot_index":0},{"name":"frame_count","type":"INT","links":null},{"name":"audio","type":"AUDIO","links":[15],"slot_index":2},{"name":"video_info","type":"VHS_VIDEOINFO","links":[13],"slot_index":3}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"Snaptik.app_7429962353690660129.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":true,"params":{"filename":"Snaptik.app_7429962353690660129.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":11,"type":"VideoInfo","pos":[-6564.16357421875,1025.6953125],"size":[245.1999969482422,206],"flags":{"collapsed":true},"order":5,"mode":0,"inputs":[{"name":"video_info","type":"VHS_VIDEOINFO","link":13}],"outputs":[{"name":"source_fps","type":"FLOAT","links":null},{"name":"source_frame_count","type":"INT","links":null},{"name":"source_duration","type":"FLOAT","links":null},{"name":"source_width","type":"INT","links":null},{"name":"source_height","type":"INT","links":null},{"name":"loaded_fps","type":"FLOAT","links":[14],"slot_index":5},{"name":"loaded_frame_count","type":"INT","links":null},{"name":"loaded_duration","type":"FLOAT","links":null},{"name":"loaded_width","type":"INT","links":null},{"name":"loaded_height","type":"INT","links":null}],"properties":{"Node name for S&R":"VideoInfo"},"widgets_values":[]},{"id":3,"type":"UpscaleModelLoader","pos":[-5762.2431640625,1327.385009765625],"size":[315,58],"flags":{},"order":3,"mode":4,"inputs":[],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[1],"slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x2.pth"]},{"id":4,"type":"ImageUpscaleWithModel","pos":[-5760.1982421875,1515.4061279296875],"size":[340.20001220703125,46],"flags":{"collapsed":true},"order":6,"mode":4,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":1},{"name":"image","type":"IMAGE","link":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3],"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"widgets_values":[]},{"id":2,"type":"LoadImage","pos":[-6667.56787109375,1161.0667724609375],"size":[630.3516845703125,848.6043701171875],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[7,16],"slot_index":0},{"name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2024-06-11 10-30-27.png","image"]},{"id":12,"type":"Reroute","pos":[-3392.62939453125,887.509521484375],"size":[82,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":16}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[17],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":10,"type":"VHS_VideoCombine","pos":[-4285.59033203125,919.669677734375],"size":[620.1018676757812,1386.5872802734375],"flags":{},"order":12,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":12},{"name":"audio","type":"AUDIO","shape":7,"link":15},{"name":"meta_batch","type":"VHS_BatchManager","shape":7,"link":null},{"name":"vae","type":"VAE","shape":7,"link":null},{"name":"frame_rate","type":"FLOAT,INT","widget":{"name":"frame_rate"},"link":14}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"FaceswapWF","format":"video/h264-mp4.json","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"FaceswapWF_00002-audio.mp4","subfolder":"","type":"output","format":"video/h264-mp4.json","frame_rate":30,"workflow":"FaceswapWF_00002.png","fullpath":"Z:\\comfyAPP\\output\\FaceswapWF_00002-audio.mp4"}}}},{"id":5,"type":"ImageResizeKJ","pos":[-5308.76123046875,1423.7049560546875],"size":[315,266],"flags":{"collapsed":true},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3},{"name":"get_image_size","type":"IMAGE","shape":7,"link":null},{"name":"width_input","type":"INT","shape":7,"widget":{"name":"width_input"},"link":null},{"name":"height_input","type":"INT","shape":7,"widget":{"name":"height_input"},"link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4,10],"slot_index":0},{"name":"width","type":"INT","links":null},{"name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[512,1024,"nearest-exact",true,2,0,0,"disabled"]},{"id":13,"type":"PreviewImage","pos":[-3595.293701171875,1096.62744140625],"size":[528.7396240234375,802.841552734375],"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":17}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]}],"links":[[1,3,0,4,0,"UPSCALE_MODEL"],[2,1,0,4,1,"IMAGE"],[3,4,0,5,0,"IMAGE"],[4,5,0,6,2,"IMAGE"],[5,7,0,6,0,"ROPE_MODEL"],[6,7,1,6,1,"ROPE_VM"],[7,2,0,6,3,"IMAGE"],[8,8,1,6,4,"DETECTRESULT"],[9,7,0,8,0,"ROPE_MODEL"],[10,5,0,8,1,"IMAGE"],[11,9,0,6,6,"ROPE_OPTION"],[12,6,0,10,0,"IMAGE"],[13,1,3,11,0,"VHS_VIDEOINFO"],[14,11,5,10,4,"FLOAT,INT"],[15,1,2,10,1,"AUDIO"],[16,2,0,12,0,"*"],[17,12,0,13,0,"IMAGE"]],"groups":[{"id":1,"title":"Upscaler","bounding":[-5830.171875,1242.7650146484375,454.644287109375,333.6688537597656],"color":"#ff0000","font_size":24,"flags":{}},{"id":2,"title":"Faceswap","bounding":[-5172.08984375,954.2230224609375,798.706787109375,1238.0008544921875],"color":"#009e2f","font_size":24,"flags":{}},{"id":3,"title":"LOADERS","bounding":[-7185.4453125,953.24853515625,1260.5513916015625,1181.53271484375],"color":"#0400f5","font_size":24,"flags":{}},{"id":4,"title":"Final","bounding":[-4312.70751953125,837.4482421875,1310.8043212890625,1493.2066650390625],"color":"#e66f00","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.5445000000000192,"offset":[6405.488673851121,-461.3907529165836]},"node_versions":{"ComfyUI_RopeWrapper":"cef62137522af76760301b0695b89dcd75a3c789","comfyui-videohelpersuite":"1.5.4","ComfyUI-tbox":"2d25ad76c6e884356bc76d51b16c7310d721b340","comfy-core":"0.3.14","comfyui-kjnodes":"1.0.5"},"ue_links":[]},"version":0.4}